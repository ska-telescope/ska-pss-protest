<?xml version="1.0" encoding="UTF-8"?>
<cheetah>
   <beams>
      <beam>
         <active>true</active>
         <cpu>
            <affinity>0,1</affinity>
         </cpu>
         <sinks>
            <list-output-streams>false</list-output-streams>
            <threads>3</threads>
            <channels>
               <sps_events>
                  <active>true</active>
                  <sink>
                     <id>spccl_files</id>
                  </sink>
               </sps_events>
            </channels>
            <sink_configs>
               <spccl_files>
                  <extension>.spccl</extension>
                  <dir>/raid/llevin/SP-2808_SPSrecovery/SPSout/</dir>
                  <id>spccl_files</id>
               </spccl_files>
            </sink_configs>
         </sinks>
         <source>
            <sigproc>
                    <file>/skatvnas3/doc_root/testvectors/SPS-MID/SPS-MID_747e95f_0.125_0.00125_100.0_0.0_Gaussian_50.0_123123123.fil</file>
               <chunk_samples>100</chunk_samples>
            </sigproc>
          </source>
         <id>1</id>
      </beam>
  </beams>
  <ddtr>
    <pool-id>test_pool</pool-id>
    <priority>0</priority>
    <dedispersion_samples>180000</dedispersion_samples>
    <astroaccelerate>
        <active>true</active>
        <copy_dmtrials_to_host>false</copy_dmtrials_to_host>
    </astroaccelerate>
    <cpu>
      <active>false</active>
    </cpu>
    <fpga>
      <active>false</active>
    </fpga>
    <dedispersion>
      <start>0.0</start>
      <end>370.0</end>
      <step>0.307</step>
    </dedispersion>
    <dedispersion>
      <start>370.0</start>
      <end>740.0</end>
      <step>0.652</step>
    </dedispersion>
    <dedispersion>
      <start>740.0</start>
      <end>1480.0</end>
      <step>1.266</step>
    </dedispersion>
    <dedispersion>
      <start>1480.0</start>
      <end>2950.0</end>
      <step>2.512</step>
    </dedispersion>
  </ddtr>
  <empty>
      <exit_count>0</exit_count>
   </empty>
   <pools>
       <pool>
       <id>test_pool</id>
       <concurrent_jobs>0</concurrent_jobs>
       <cpu>
         <affinity>0</affinity>
         <devices>8</devices>
         <id>sps_cpus</id>
       </cpu>
       <cuda>
         <devices>1</devices>
         <id>sps_gpus</id>
       </cuda>
       </pool>
    </pools>
   <fdas>
      <pool-id>default</pool-id>
      <priority>0</priority>
      <active>false</active>
   </fdas>
   <fldo>
      <pool-id>default</pool-id>
      <priority>0</priority>
      <phases>0</phases>
      <nsubints>10</nsubints>
      <nsubbands>10</nsubbands>
   </fldo>
   <psbc>
      <dump_time>10</dump_time>
   </psbc>
   <rfim>
      <pool-id>default</pool-id>
      <priority>2</priority>
      <rfim_ampp>
         <active>false</active>
         <channel_rejection_rms>1.0</channel_rejection_rms>
         <spectrum_rejection_rms>1.0</spectrum_rejection_rms>
         <max_history>100</max_history>
         <zero_dm>false</zero_dm>
         <bandpass>
            <channel_width>1000</channel_width>
            <freq_start>300000000</freq_start>
            <number_of_channels>30</number_of_channels>
            <p>0.2</p>
            <rms>12090</rms>
         </bandpass>
      </rfim_ampp>
      <rfim>
        <pool-id>default</pool-id>
        <priority>0</priority>
        <rfim_iqrmcpu>
          <active>true</active>
          <radius>100</radius>
          <threshold>3.0</threshold>
          <edge_channels>32</edge_channels>
        </rfim_iqrmcpu>
      </rfim>
      <rfim_iqrmcpu>
         <active>false</active>
         <max_lag>3</max_lag>
         <nsigma>3.0</nsigma>
         <edge_channels>48</edge_channels>
      </rfim_iqrmcpu>
      <rfim_cuda>
         <active>false</active>
      </rfim_cuda>
      <rfim_sum_threshold>
         <active>false</active>
         <its_cutoff>10</its_cutoff>
         <base_sensitivity>1.0</base_sensitivity>
         <window>0</window>
      </rfim_sum_threshold>
   </rfim>
   <sps>
      <pool-id>test_pool</pool-id>
      <priority>0</priority>
      <threshold>8.0</threshold>
      <astroaccelerate>
         <active>false</active>
      </astroaccelerate>
      <klotski_bruteforce>
         <active>true</active>
         <number_of_widths>12</number_of_widths>
      </klotski_bruteforce>
    </sps>
    <spsift>
      <active>true</active>
      <dm_thresh>20.0</dm_thresh>
      <sigma_thresh>8.0</sigma_thresh>
      <pulse_width_threshold>300.0</pulse_width_threshold>
      <maximum_candidates>200000</maximum_candidates>
    </spsift>
    <sps_clustering>
      <active>true</active>
      <time_tolerance>100.0</time_tolerance>
      <dm_thresh>23.5</dm_thresh>
      <pulse_width_tolerance>100.0</pulse_width_tolerance>
      <linking_length>1.732</linking_length>
    </sps_clustering>
</cheetah>
